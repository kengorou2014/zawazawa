<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,intial-scale=1">
        <title>12</title>
        <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
        <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
        <!-- <script src="https://threejs.org/build/three.js"></script> -->
        <!-- <script src="js/ar.js"></script> -->
        <!-- <script src="https://unpkg.com/aframe-event-set-component@4.1.2/dist/aframe-event-set-component.min.js"></script> -->
        <script>
            AFRAME.registerComponent('cursor-listener', {
                    init: function () {
                      var lastIndex = -1;
                      var COLORS = ['red', 'green', 'blue'];
                      this.el.addEventListener('click', function (evt) {
                        lastIndex = (lastIndex + 1) % COLORS.length;
                        this.setAttribute('material', 'color', COLORS[lastIndex]);
                        console.log('I was clicked at: ', evt.detail.intersection.point);
                      });
                    }
                  });
        </script>
    </head>
    <body style="margin:0px; overflow:hidden;">
        <a-scene embedded arjs="debugUIEnabled:false; sourceType: webcam;">
            <a-entity id="mouseCursor" cursor="rayOrigin: mouse" raycaster="objects: .intersectable"></a-entity>
            <a-marker preset="kanji">  
              <a-text value="My name is zawazawa!\n Nice to meet you!" position=" 0 0 1" rotation="-90 0 0" color="#7993ff"></a-text>
              <a-sphere scale=".25 .25 .25" position="0 .5 0" color="#111">
                <a-animation attribute="position" to="0 1 0" direction="alternate" dur="2000" repeat="indefinite">
                </a-animation>
              </a-sphere>
              <a-entity cursor-listener
                  geometry="primitive: box"
                  position="0 1 1" 
                  class="intersectable clickable" 
                  rotation="0 0 0" 
                  scale=".9 .9 .9">
              </a-entity>
              <a-entity cursor-listener 
                  geometry="primitive: box" 
                  class="intersectable clickable" 
                  position="0 1 -1" 
                  rotation="0 0 0" 
                  color="#4CC3D9" 
                  shadow>
              </a-entity>
            </a-marker>

            <a-entity cursor-listener 
            geometry="primitive: box" 
            class="intersectable clickable" 
            position="0 1 -3" 
            rotation="0 0 0" 
            color="#4CC3D9" 
            scale=".2 .2 .2"
            shadow>
            </a-entity>
            <a-entity camera></a-entity>
        </a-scene>
    </body>
</html>
