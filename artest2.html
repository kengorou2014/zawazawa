<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <!-- <meta name="viewport" content="width=device-width,initial-scale=1"> -->
        <!-- <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,minimum-scale=1,maximum-scale=1"> -->
        <title>28</title>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
        <!-- <script src="https://threejs.org/build/three.js"></script> -->
        <!-- <script src="js/ar.js"></script> -->
        <!-- <script src="https://unpkg.com/aframe-event-set-component@4.1.2/dist/aframe-event-set-component.min.js"></script> -->
        <script>
        AFRAME.registerComponent('tap-listener', {
          init: function () {
            var lastIndex = -1;
            var COLORS = ['red', 'green', 'blue'];
            this.el.addEventListener('click', function (evt) {
              // if(evt.target.classList.contains('box')) { return }
              console.log(evt.target.classList.contains('box'));
              lastIndex = (lastIndex + 1) % COLORS.length;
              this.setAttribute('material', 'color', COLORS[lastIndex]);
              console.log('I was clicked at: ', evt.detail.intersection.point);
            });
          }
        });
        </script>
    </head>
    <body style="margin:0px; overflow:hidden;">
    <!-- <body> -->
        <!-- <a-scene embedded arjs="debugUIEnabled:false; sourceType: webcam;" vr-mode-ui="enabled: false"> -->
        <a-scene embedded arjs="debugUIEnabled:false; sourceType: webcam;" vr-mode-ui="enabled: false" cursor="fuse: false;">
            <!-- <a-entity cursor="fuse: false; rayOrigin: mouse" raycaster="objects: .intersectable"></a-entity> -->
            <a-entity cursor="fuse: false; rayOrigin: mouse" raycaster="objects: .intersectable"></a-entity>
            <a-marker preset="kanji">    
              <a-text value="My name is zawazawa!\n Nice to meet you!" position=" 0 0 1" rotation="-90 0 0" color="#7993ff"></a-text>
              <!-- <a-sphere scale=".25 .25 .25" position="0 .5 0" color="#111">
                <a-animation attribute="position" to="0 1 0" direction="alternate" dur="2000" repeat="indefinite">
                </a-animation>
              </a-sphere> -->
              <a-entity tap-listener
                  geometry="primitive: box"
                  position="0 0 0" 
                  class="intersectable clickable" 
                  rotation="0 0 0" 
                  scale=".9 .9 .9">
              </a-entity>
              <a-entity tap-listener
                  geometry="primitive: box" 
                  class="intersectable clickable" 
                  position="0 1 -1" 
                  rotation="0 0 0" 
                  color="#4CC3D9" 
                  shadow>
              </a-entity>
            </a-marker>

            <a-entity tap-listener
            geometry="primitive: box" 
            class="intersectable clickable box" 
            position="0 0 -3" 
            rotation="0 0 0" 
            color="#4CC3D9" 
            scale=".2 .2 .2"
            shadow>
            </a-entity>
            <a-entity camera></a-entity>
            <!-- <a-entity camera raycaster= "objects: .intersectable" cursor="rayOrigin: mouse;"></a-entity>             -->
        </a-scene>
    </body>
</html>